{"map":{"version":3,"sources":["static/js/main.4a560946.chunk.js"],"names":["this","push","12","module","exports","__webpack_require__","13","14","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","classCallCheck","createClass","inherits","createSuper","App_Leaderboard","_React$Component","Object","Leaderboard","_super","apply","arguments","key","value","a","createElement","className","Component","App_Cell","_React$Component2","Cell","_super2","props","isRevealed","isMine","neighbour","isFlagged","_this$props","onClick","cMenu","onContextMenu","getValue","App_Board","_React$Component3","Board","_super3","_this","_len","length","args","Array","_key","call","concat","state","boardData","initBoardData","height","width","mines","gameStatus","mineCount","time","hasStarted","myInterval","tick","setState","setInterval","data","mineArray","map","datarow","dataitem","dimension","Math","floor","random","createEmptyArray","plantMines","getNeighbours","i","j","x","y","isEmpty","randomx","randomy","minesPlanted","getRandomNumber","_this2","updatedData","mine","traverseBoard","el","_this3","revealEmpty","revealBoard","clearInterval","getHidden","getFlags","e","preventDefault","getMines","FlagArray","JSON","stringify","interval","sendScoreToAPI","_this4","_handleCellClick","_handleContextMenu","renderBoard","App_Game","_React$Component4","Game","_super4","_this5","_len2","_key2","_this$state","playerName","prompt","dataToSave","name","fetch","method","headers","Content-Type","body","then","res","json","result","alert","error","console","log","src_App","Boolean","window","location","hostname","match","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message","7"],"mappings":"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"},"code":"(this[\"webpackJsonptest-app\"]=this[\"webpackJsonptest-app\"]||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){},14:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),i=a(6),s=a.n(i),o=(a(12),a(1)),l=a(2),u=a(4),c=a(3),h=(a(13),function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:\"render\",value:function(){return r.a.createElement(\"div\",{className:\"leaderboard\"},r.a.createElement(\"div\",{className:\"leaderboard-container\"},r.a.createElement(\"div\",{className:\"leaderboard-title\"},r.a.createElement(\"span\",null,\"Leaderboard\")),r.a.createElement(\"div\",{className:\"leaderboard-content\"},r.a.createElement(\"div\",{className:\"leaderboard-player\"},r.a.createElement(\"span\",null,\"Cristi : 60\")),r.a.createElement(\"div\",{className:\"leaderboard-player\"},r.a.createElement(\"span\",null,\"Iulia : 90\")),r.a.createElement(\"div\",{className:\"leaderboard-player\"},r.a.createElement(\"span\",null,\"Ioana: 102\")))))}}]),a}(r.a.Component)),m=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:\"getValue\",value:function(){var e=this.props.value;return e.isRevealed?e.isMine?\"\\ud83d\\udca3\":0===e.neighbour?null:e.neighbour:this.props.value.isFlagged?\"\\ud83c\\udff3\\ufe0f\":null}},{key:\"render\",value:function(){var e=this.props,t=e.value,a=e.onClick,n=e.cMenu,i=\"cell\"+(t.isRevealed?\"\":\" hidden\")+(t.isMine?\" is-mine\":\"\")+(t.isFlagged?\" is-flag\":\"\");return r.a.createElement(\"div\",{onClick:a,className:i,onContextMenu:n},this.getValue())}}]),a}(r.a.Component),d=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={boardData:e.initBoardData(e.props.height,e.props.width,e.props.mines),gameStatus:\"Game in progress\",mineCount:e.props.mines,time:0,hasStarted:!1,myInterval:0},e.tick=function(){\"Game in progress\"===e.state.gameStatus&&e.setState({myInterval:setInterval((function(){e.setState({time:e.state.time+1})}),1e3)})},e}return Object(l.a)(a,[{key:\"getMines\",value:function(e){var t=[];return e.map((function(e){e.map((function(e){e.isMine&&t.push(e)}))})),t}},{key:\"getFlags\",value:function(e){var t=[];return e.map((function(e){e.map((function(e){e.isFlagged&&t.push(e)}))})),t}},{key:\"getHidden\",value:function(e){var t=[];return e.map((function(e){e.map((function(e){e.isRevealed||t.push(e)}))})),t}},{key:\"getRandomNumber\",value:function(e){return Math.floor(1e3*Math.random()+1)%e}},{key:\"initBoardData\",value:function(e,t,a){var n=this.createEmptyArray(e,t);return n=this.plantMines(n,e,t,a),n=this.getNeighbours(n,e,t)}},{key:\"createEmptyArray\",value:function(e,t){for(var a=[],n=0;n<e;n++){a.push([]);for(var r=0;r<t;r++)a[n][r]={x:n,y:r,isMine:!1,neighbour:0,isRevealed:!1,isEmpty:!1,isFlagged:!1}}return a}},{key:\"plantMines\",value:function(e,t,a,n){for(var r,i,s=0;s<n;)r=this.getRandomNumber(a),i=this.getRandomNumber(t),e[r][i].isMine||(e[r][i].isMine=!0,s++);return e}},{key:\"getNeighbours\",value:function(e,t,a){for(var n=this,r=e,i=0;i<t;i++)for(var s=0;s<a;s++)!0!==e[i][s].isMine&&function(){var t=0;n.traverseBoard(e[i][s].x,e[i][s].y,e).map((function(e){e.isMine&&t++})),0===t&&(r[i][s].isEmpty=!0),r[i][s].neighbour=t}();return r}},{key:\"traverseBoard\",value:function(e,t,a){var n=[];return e>0&&n.push(a[e-1][t]),e<this.props.height-1&&n.push(a[e+1][t]),t>0&&n.push(a[e][t-1]),t<this.props.width-1&&n.push(a[e][t+1]),e>0&&t>0&&n.push(a[e-1][t-1]),e>0&&t<this.props.width-1&&n.push(a[e-1][t+1]),e<this.props.height-1&&t<this.props.width-1&&n.push(a[e+1][t+1]),e<this.props.height-1&&t>0&&n.push(a[e+1][t-1]),n}},{key:\"revealBoard\",value:function(){var e=this.state.boardData;e.map((function(e){e.map((function(e){e.isRevealed=!0}))})),this.setState({boardData:e})}},{key:\"revealEmpty\",value:function(e,t,a){var n=this;return this.traverseBoard(e,t,a).map((function(e){e.isFlagged||e.isRevealed||!e.isEmpty&&e.isMine||(a[e.x][e.y].isRevealed=!0,e.isEmpty&&n.revealEmpty(e.x,e.y,a))})),a}},{key:\"_handleCellClick\",value:function(e,t){if(!1===this.state.hasStarted&&(this.setState({hasStarted:!0}),this.tick()),this.state.boardData[e][t].isRevealed||this.state.boardData[e][t].isFlagged)return null;this.state.boardData[e][t].isMine&&(this.setState({gameStatus:\"You Lost.\"}),this.revealBoard(),clearInterval(this.state.myInterval));var a=this.state.boardData;a[e][t].isFlagged=!1,a[e][t].isRevealed=!0,a[e][t].isEmpty&&(a=this.revealEmpty(e,t,a)),this.getHidden(a).length===this.props.mines&&(this.setState({mineCount:0,gameStatus:\"You Win.\"}),this.revealBoard(),clearInterval(this.state.myInterval)),this.setState({boardData:a,mineCount:this.props.mines-this.getFlags(a).length})}},{key:\"_handleContextMenu\",value:function(e,t,a){e.preventDefault();var n=this.state.boardData,r=this.state.mineCount;if(!n[t][a].isRevealed){if(n[t][a].isFlagged?(n[t][a].isFlagged=!1,r++):(n[t][a].isFlagged=!0,r--),0===r){var i=this.getMines(n),s=this.getFlags(n);JSON.stringify(i)===JSON.stringify(s)&&(this.setState({mineCount:0,gameStatus:\"You Win.\"}),this.revealBoard(),clearInterval(this.state.interval),v())}this.setState({boardData:n,mineCount:r})}}},{key:\"renderBoard\",value:function(e){var t=this;return e.map((function(e){return e.map((function(a){return r.a.createElement(\"div\",{key:a.x*e.length+a.y},r.a.createElement(m,{onClick:function(){return t._handleCellClick(a.x,a.y)},cMenu:function(e){return t._handleContextMenu(e,a.x,a.y)},value:a}),e[e.length-1]===a?r.a.createElement(\"div\",{className:\"clear\"}):\"\")}))}))}},{key:\"render\",value:function(){return r.a.createElement(\"div\",{className:\"board\"},r.a.createElement(\"div\",{className:\"game-info\"},r.a.createElement(\"h1\",{className:\"info\"},this.state.gameStatus),r.a.createElement(\"span\",{className:\"info\"},\"Mines remaining: \",this.state.mineCount),r.a.createElement(\"span\",{className:\"info\"},\"TIMER: \",this.state.time)),this.renderBoard(this.state.boardData),r.a.createElement(h,null))}}]),a}(r.a.Component),p=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={height:8,width:8,mines:8},e}return Object(l.a)(a,[{key:\"render\",value:function(){var e=this.state,t=e.height,a=e.width,n=e.mines;return r.a.createElement(\"div\",{className:\"game\"},r.a.createElement(d,{height:t,width:a,mines:n}))}}]),a}(r.a.Component),v=function(e){var t=prompt(\"Congrats for winning the game! Please enter your name: \",\"yourUsername\");if(null!=t){var a={time:e,name:t};fetch(\"http://localhost:1601/api/ms\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){alert(\"You saved your score\")}),(function(e){alert(\"Bad API call\"),console.log(e)}))}},g=p;Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(g,null),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,a){e.exports=a(14)}},[[7,1,2]]]);","extractedComments":[]}